<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      {% block title %}Farmer's Portal - Smart Agriculture Platform{% endblock
      %}
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");
      body {
        font-family: "Inter", sans-serif;
      }
      .navbar-shadow {
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      }
      .nav-link {
        color: #374151;
        font-weight: 500;
        font-size: 1rem;
        display: flex;
        align-items: center;
        gap: 0.4em;
      }
      .nav-link:hover {
        color: #16a34a;
      }
      .group:hover > .dropdown-content {
        display: block !important;
      }
      .dropdown-content {
        display: none;
      }
      .nav-active {
        color: #16a34a;
        font-weight: 600;
      }
      .agriculture-gradient {
        background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);
      }
      .gradient-bg {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }
      .text-white {
        color: #fff;
      }
    </style>
    {% block extra_css %}{% endblock %}
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="bg-white navbar-shadow sticky top-0 z-50">
      <div class="container mx-auto px-4">
        <div class="flex justify-between items-center h-16">
          <!-- Logo -->
          <a href="/" class="flex items-center gap-2">
            <svg
              class="w-8 h-8 text-green-600"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
              ></path>
            </svg>
            <span class="text-xl font-bold text-gray-800">Farmer's Portal</span>
          </a>

          <!-- Desktop Navigation -->
          <div class="hidden md:flex items-center space-x-4">
            <a href="/" class="nav-link"><i class="fas fa-home"></i> Home</a>
            <a href="/news" class="nav-link"
              ><i class="fas fa-newspaper"></i> News</a
            >
            <a href="/market-prices" class="nav-link"
              ><i class="fas fa-chart-line"></i> Market Prices</a
            >
            <a href="/schemes" class="nav-link"
              ><i class="fas fa-landmark"></i> Schemes</a
            >

            <!-- Dropdown for Tools -->
            <div class="relative group">
              <button class="flex items-center gap-1 nav-link outline-none">
                <i class="fas fa-tools"></i> Tools
                <i class="fas fa-chevron-down text-xs"></i>
              </button>
              <div
                class="dropdown-content absolute left-0 bg-white rounded-xl shadow-lg py-2 min-w-[12rem] z-10"
              >
                <a
                  href="/crop-recommendation"
                  class="block px-4 py-2 hover:bg-green-100"
                  ><i class="fas fa-seedling"></i> Crop Recommendation</a
                >
                <a href="/weather" class="block px-4 py-2 hover:bg-green-100"
                  ><i class="fas fa-cloud-sun"></i> Weather</a
                >
                <a
                  href="/search-products"
                  class="block px-4 py-2 hover:bg-green-100"
                  ><i class="fas fa-search"></i> Search Products</a
                >
                <a href="/analytics" class="block px-4 py-2 hover:bg-green-100"
                  ><i class="fas fa-chart-bar"></i> Analytics</a
                >
              </div>
            </div>
          </div>

          <!-- Mobile Menu Button -->
          <button id="mobile-menu-btn" class="md:hidden text-gray-700 ml-3">
            <i class="fas fa-bars text-2xl"></i>
          </button>
        </div>

        <!-- Mobile Modal Navigation -->
        <div
          id="mobile-menu"
          class="hidden md:hidden bg-gray-50 px-4 py-2 rounded-b-xl"
        >
          <a href="/" class="block py-2 nav-link"
            ><i class="fas fa-home"></i> Home</a
          >
          <a href="/news" class="block py-2 nav-link"
            ><i class="fas fa-newspaper"></i> News</a
          >
          <a href="/market-prices" class="block py-2 nav-link"
            ><i class="fas fa-chart-line"></i> Market Prices</a
          >
          <a href="/schemes" class="block py-2 nav-link"
            ><i class="fas fa-landmark"></i> Schemes</a
          >
          <div class="border-b my-2"></div>
          <a href="/crop-recommendation" class="block py-2 nav-link"
            ><i class="fas fa-seedling"></i> Crop Recommendation</a
          >
          <a href="/weather" class="block py-2 nav-link"
            ><i class="fas fa-cloud-sun"></i> Weather</a
          >
          <a href="/search-products" class="block py-2 nav-link"
            ><i class="fas fa-search"></i> Search Products</a
          >
          <a href="/analytics" class="block py-2 nav-link"
            ><i class="fas fa-chart-bar"></i> Analytics</a
          >
        </div>
      </div>
    </nav>

    <main>{% block content %}{% endblock %}</main>

    <footer class="bg-gray-800 text-white mt-16">
      <div class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div>
            <h3 class="text-lg font-semibold mb-4">Farmer's Portal</h3>
            <p class="text-gray-400">
              AI-powered agriculture platform for Indian farmers
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
            <ul class="space-y-2">
              <li>
                <a href="/" class="text-gray-400 hover:text-white transition"
                  >Home</a
                >
              </li>
              <li>
                <a
                  href="/crop-recommendation"
                  class="text-gray-400 hover:text-white transition"
                  >Crop Recommendation</a
                >
              </li>
              <li>
                <a
                  href="/news"
                  class="text-gray-400 hover:text-white transition"
                  >News</a
                >
              </li>
              <li>
                <a
                  href="/market-prices"
                  class="text-gray-400 hover:text-white transition"
                  >Market Prices</a
                >
              </li>
              <li>
                <a
                  href="/weather"
                  class="text-gray-400 hover:text-white transition"
                  >Weather</a
                >
              </li>
              <li>
                <a
                  href="/search-products"
                  class="text-gray-400 hover:text-white transition"
                  >Search Products</a
                >
              </li>
              <li>
                <a
                  href="/analytics"
                  class="text-gray-400 hover:text-white transition"
                  >Analytics</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h3 class="text-lg font-semibold mb-4">Contact</h3>
            <p class="text-gray-400">IIT Bombay, Mumbai</p>
            <p class="text-gray-400">CSE Department</p>
            <p class="text-gray-400 mt-2">
              <i class="fas fa-envelope mr-2"></i>cse@iitb.ac.in
            </p>
          </div>
        </div>
        <div
          class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400"
        >
          <p>
            &copy; 2025 Farmer's Portal. Built with ❤️ for Indian Farmers | IIT
            Bombay
          </p>
        </div>
      </div>
    </footer>

    <script>
      document
        .getElementById("mobile-menu-btn")
        .addEventListener("click", function () {
          const menu = document.getElementById("mobile-menu");
          menu.classList.toggle("hidden");
        });
      document.addEventListener("click", function (event) {
        const menu = document.getElementById("mobile-menu");
        const button = document.getElementById("mobile-menu-btn");
        if (!menu.contains(event.target) && !button.contains(event.target)) {
          menu.classList.add("hidden");
        }
      });
      document.addEventListener("DOMContentLoaded", function () {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll("nav a");
        navLinks.forEach((link) => {
          if (link.getAttribute("href") === currentPath) {
            link.classList.add("nav-active");
          }
        });
      });
    </script>
    {% block extra_js %}{% endblock %}
  </body>
</html>
